# Issue #4: å‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆã¸ã®ç§»è¡Œã¨ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆå»ƒæ­¢

## ğŸ“‹ æ¦‚è¦
å‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆï¼ˆpreset 26, 27ï¼‰ã‚’ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦æ¡ç”¨ã—ã€ãƒ¬ã‚¬ã‚·ãƒ¼ãªåŸºæœ¬ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’æ®µéšçš„ã«å»ƒæ­¢ã™ã‚‹ã€‚

## ğŸ¯ ç›®çš„
- ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ç°¡ç´ åŒ–
- ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®å‘ä¸Š
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®çµ±ä¸€åŒ–
- å‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆã®å„ªä½æ€§ã‚’æ´»ã‹ã—ãŸæ©Ÿèƒ½æ‹¡å¼µ

## ğŸ“Š ç¾çŠ¶åˆ†æ

### å‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆï¼ˆä¿æŒï¼‰
- **26_txt2img_cn_multi_3units.yaml**: ç©¶æ¥µã®txt2imgå‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆ
  - ControlNet (0-3 units)
  - ADetailer (1-4 models)
  - Regional Prompter
  - Dynamic Prompts
  - Hires Fix
  - å®Œå…¨ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åˆ¶å¾¡

- **27_img2img_cn_multi_3units.yaml**: ç©¶æ¥µã®img2imgå‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆ
  - img2img/inpaintå®Œå…¨å¯¾å¿œ
  - ControlNet (0-3 units)
  - ADetailer (1-4 models)
  - å‹•çš„ã‚¢ãƒƒãƒ—ã‚¹ã‚±ãƒ¼ãƒ©ãƒ¼é¸æŠ

### ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆï¼ˆå»ƒæ­¢å€™è£œï¼‰
```
01_txt2img_animagine_base.yaml     # â†’ 26ã§ä»£æ›¿å¯èƒ½
02_txt2img_animagine_cn3.yaml      # â†’ 26ã§ä»£æ›¿å¯èƒ½
03_txt2img_animagine_cn4.yaml      # â†’ 26ã§ä»£æ›¿å¯èƒ½
04_img2img_animagine_base.yaml     # â†’ 27ã§ä»£æ›¿å¯èƒ½
05_img2img_animagine_cn3.yaml      # â†’ 27ã§ä»£æ›¿å¯èƒ½
06_img2img_animagine_cn4.yaml      # â†’ 27ã§ä»£æ›¿å¯èƒ½
07_txt2img_cn3_rp_matrix.yaml      # â†’ 26ã§ä»£æ›¿å¯èƒ½
08_txt2img_cn3_rp_mask.yaml        # â†’ 26ã§ä»£æ›¿å¯èƒ½
09_txt2img_cn4_rp_matrix.yaml      # â†’ 26ã§ä»£æ›¿å¯èƒ½
10_txt2img_cn4_rp_mask.yaml        # â†’ 26ã§ä»£æ›¿å¯èƒ½
11_img2img_cn3_rp_matrix.yaml      # â†’ 27ã§ä»£æ›¿å¯èƒ½
12_img2img_cn3_rp_mask.yaml        # â†’ 27ã§ä»£æ›¿å¯èƒ½
13_img2img_cn4_rp_matrix.yaml      # â†’ 27ã§ä»£æ›¿å¯èƒ½
14_img2img_cn4_rp_mask.yaml        # â†’ 27ã§ä»£æ›¿å¯èƒ½
```

### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ—ãƒªã‚»ãƒƒãƒˆï¼ˆä¿æŒï¼‰
```
15_utility_png_info.yaml            # PNGæƒ…å ±æŠ½å‡º
16_extras_upscale_ultrasharp.yaml   # ã‚¢ãƒƒãƒ—ã‚¹ã‚±ãƒ¼ãƒ«
17_extras_upscale_fatal_anime.yaml  # ã‚¢ãƒ‹ãƒ¡ç‰¹åŒ–ã‚¢ãƒƒãƒ—ã‚¹ã‚±ãƒ¼ãƒ«
18_extras_rembg_u2net.yaml          # èƒŒæ™¯å‰Šé™¤
19_extras_rembg_isnet_anime.yaml    # ã‚¢ãƒ‹ãƒ¡ç‰¹åŒ–èƒŒæ™¯å‰Šé™¤
20_tagger_wd_eva02.yaml             # è‡ªå‹•ã‚¿ã‚°ä»˜ã‘
21_utility_check_model.yaml         # ãƒ¢ãƒ‡ãƒ«ç¢ºèª
22_utility_switch_model.yaml        # ãƒ¢ãƒ‡ãƒ«åˆ‡æ›¿
23_txt2img_animagine_face_hand.yaml # ADetailerç‰¹åŒ–ï¼ˆæ¤œè¨ï¼‰
24_txt2img_animagine_multi_detect.yaml # ADetailerç‰¹åŒ–ï¼ˆæ¤œè¨ï¼‰
25_utility_controlnet_models.yaml   # ControlNetãƒ¢ãƒ‡ãƒ«ä¸€è¦§
```

## ğŸ”„ ç§»è¡Œè¨ˆç”»

### Phase 1: æº–å‚™
1. å‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆã®å®Œå…¨æ€§ç¢ºèª
2. ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆã®ä½¿ç”¨é »åº¦åˆ†æ
3. ç§»è¡Œã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ä½œæˆ

### Phase 2: å®Ÿè£…
1. ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’`deprecated/`ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•
2. MCPãƒ„ãƒ¼ãƒ«ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã®æ›´æ–°
3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°

### Phase 3: ãƒ†ã‚¹ãƒˆ
1. å‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆã§ã®å…¨æ©Ÿèƒ½ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
2. æ—¢å­˜ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å‹•ä½œç¢ºèª
3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

## ğŸ“ æŠ€è¡“çš„è€ƒæ…®äº‹é …

### MCPãƒ„ãƒ¼ãƒ«ç”Ÿæˆã¸ã®å½±éŸ¿
- tool-generator.tsã®æ›´æ–°ãŒå¿…è¦
- ãƒ„ãƒ¼ãƒ«åã®ãƒãƒƒãƒ”ãƒ³ã‚°å¤‰æ›´
- å¾Œæ–¹äº’æ›æ€§ã®è€ƒæ…®

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ç§»è¡Œãƒ‘ã‚¹
```typescript
// ç§»è¡Œãƒãƒƒãƒ”ãƒ³ã‚°ä¾‹
const migrationMap = {
  'sdreforge_txt2img_animagine_base': 'sdreforge_txt2img_cn_multi_3units',
  'sdreforge_img2img_animagine_base': 'sdreforge_img2img_cn_multi_3units',
  // ...
}
```

## âœ… å—ã‘å…¥ã‚ŒåŸºæº–
- [ ] ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒå‹•çš„ãƒ—ãƒªã‚»ãƒƒãƒˆã§å®Ÿç¾å¯èƒ½
- [ ] MCPãƒ„ãƒ¼ãƒ«ãŒæ­£å¸¸ã«ç”Ÿæˆã•ã‚Œã‚‹
- [ ] æ—¢å­˜ã®ãƒ†ã‚¹ãƒˆãŒã™ã¹ã¦ãƒ‘ã‚¹
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹
- [ ] ç§»è¡Œã‚¬ã‚¤ãƒ‰ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹

## ğŸš¨ ãƒªã‚¹ã‚¯ã¨å¯¾ç­–
- **ãƒªã‚¹ã‚¯**: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç ´å£Š
- **å¯¾ç­–**: ç§»è¡ŒæœŸé–“ã‚’è¨­ã‘ã€deprecation warningã‚’è¡¨ç¤º

## ğŸ“… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- åˆ†æãƒ»è¨ˆç”»: 30åˆ†
- å®Ÿè£…: 1æ™‚é–“
- ãƒ†ã‚¹ãƒˆ: 30åˆ†
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: 30åˆ†

## ğŸ”— é–¢é€£
- Issue #3: img2img/inpaint Base64å¤‰æ›ä¿®æ­£ï¼ˆå®Œäº†ï¼‰
- preset 26, 27ã®å®Ÿè£…