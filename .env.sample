# ================================================================================================
# SD WebUI Reforge MCP Server Configuration
# ================================================================================================
# These values are used for MCP server operation and preset template generation.
# Modify these values to match your SD WebUI Reforge setup and preferences.
# After changing values, run: npm run setup:presets to regenerate presets.
# ================================================================================================

# ================================================================================================
# API CONNECTION SETTINGS
# ================================================================================================

# SD WebUI Reforge API endpoint URL
# Change this to match your server's address and port
SD_WEBUI_URL=http://localhost:7860

# ================================================================================================
# MODEL AND GENERATION DEFAULTS
# ================================================================================================

# Default model checkpoint to use for generation
DEFAULT_CHECKPOINT=sd_animagineXL40_v4Opt

# Sampling algorithm (Euler a, DPM++ 2M Karras, etc.)
DEFAULT_SAMPLER=Euler a

# Noise scheduler type (Automatic, Karras, Exponential, etc.)
DEFAULT_SCHEDULER=Automatic

# Number of denoising steps (higher = better quality, slower)
DEFAULT_STEPS=28

# CFG Scale - prompt adherence (7-12 typical, 5 for newer models)
DEFAULT_CFG_SCALE=5

# CLIP Skip - layers to skip (1 for realistic, 2 for anime)
DEFAULT_CLIP_SKIP=1

# Default image dimensions in pixels
DEFAULT_WIDTH=1024
DEFAULT_HEIGHT=1024

# ================================================================================================
# PROMPT TEMPLATES
# ================================================================================================

# Quality tags automatically added after user's prompt
POSITIVE_SUFFIX=masterpiece, high score, great score, absurdres

# Base negative prompt to avoid common issues (always included)
NEGATIVE_BASE=lowres, bad anatomy, bad hands, text, error, missing finger, extra digits, fewer digits, cropped, worst quality, low quality, low score, bad score, average score, signature, watermark, username, blurry

# ================================================================================================
# HIRES FIX / UPSCALING
# ================================================================================================

# Default scale factor for Hires Fix (1.5-2.0 typical)
HIRES_DEFAULT_SCALE=2.0

# Upscaler model for Hires Fix (R-ESRGAN 4x+ Anime6B for anime, 4x-UltraSharp for general)
HIRES_DEFAULT_UPSCALER=R-ESRGAN 4x+ Anime6B

# Default upscaler for extras operations
UPSCALER_DEFAULT_MODEL=R-ESRGAN 4x+ Anime6B

# Default scale factor for extras upscaling (2-4x typical)
UPSCALER_DEFAULT_SCALE=2

# ================================================================================================
# IMG2IMG SETTINGS
# ================================================================================================

# Default denoising strength for img2img (0.3-0.5 minor changes, 0.5-0.7 moderate, 0.7+ major)
IMG2IMG_DEFAULT_DENOISING_STRENGTH=0.5

# ================================================================================================
# EXTENSION LIMITS
# ================================================================================================

# Maximum number of ADetailer models available (face, hand, person detection)
ADETAILER_MAX_MODELS=2

# Maximum number of ControlNet units available (pose, depth, canny control)
CONTROLNET_MAX_UNITS=3

# ================================================================================================
# BACKGROUND REMOVAL (REMBG)
# ================================================================================================

# Default model for background removal (u2net general, isnet-anime for anime)
REMBG_DEFAULT_MODEL=isnet-anime

# Enable alpha matting for refined edges (true for complex subjects like hair)
REMBG_DEFAULT_ALPHA_MATTING=true

# ================================================================================================
# REGIONAL PROMPTER
# ================================================================================================

# Default mode for Regional Prompter (Matrix for grid division, Mask for custom masks)
RP_DEFAULT_MODE=Matrix

# Base prompt influence in regions (0.0-1.0, lower = less base prompt influence)
RP_DEFAULT_BASE_RATIO=0.2

# Calculation mode (Attention for soft boundaries, Latent for hard boundaries)
RP_DEFAULT_CALC_MODE=Attention

# ================================================================================================
# IMAGE TAGGING
# ================================================================================================

# Default model for image tagging (wd-EVA02-Large-v3 for anime, BLIP-2 for natural language)
TAGGER_DEFAULT_MODEL=wd-v1-4-moat-tagger-v2

# Confidence threshold for tags (0.35 balanced, 0.25 more tags, 0.5 conservative)
TAGGER_DEFAULT_THRESHOLD=0.35

# Convert underscores to spaces in tags (true for readability)
TAGGER_DEFAULT_REPLACE_UNDERSCORE=true

# Unload model after use to save VRAM (false for batch processing)
TAGGER_DEFAULT_UNLOAD_MODEL=false